<style>
  html[data-theme=dark] .alloc-table {
  border-collapse: collapse;
  width: 100%;
  font-family: sans-serif;
  /* Reapply necessary styles explicitly: */
  border: 1px solid #ccc;
  color: black;
  } 

  /* Light theme variables */
  html[data-theme="light"] {
    --header-color: #91bff0; 
    --color-data-integrity: #f2f2f2;
    --color-data-limits: #dfdddd;;
    --color-data-access: #adabab;
    --color-data-transfer: #908f8f;
    --color-data-compression: #656464;
    --border-color: black; 
    --text-color: black;
    --header-border-weight: 2px;
    --border-weight: 2px;
  }

  /* Dark theme variables */
  html[data-theme="dark"] {
    --header-color: var(--pst-color-surface); 
    --color-data-integrity: var(--pst-color-on-background);
    --color-data-limits: var(--pst-color-surface);
    --color-data-access: var(--pst-color-on-background);
    --color-data-transfer: var(--pst-color-surface);
    --color-data-compression: var(--pst-color-on-background);
    --border-color: #CFB87C; 
    --text-color: white; 
    --header-border-weight: 0.1px;
    --border-weight: 0.1px; 
  }


  .alloc-table {
  border-collapse: collapse;
  width: 100%;
  font-family: sans-serif;
  /* Reapply necessary styles explicitly: */
  border: 1px solid #ccc;
  } 

  .alloc-table th {
    background-color: var(--header-color); /* light blue for headers */
    border: var(--header-border-weight) solid var(--border-color);
    padding: 8px;
    font-size: 22px;
    color: var(--text-color);
  }
  
  .alloc-table tr.category-data-integrity td {
    background-color: var(--color-data-integrity);
    border: var(--border-weight) solid var(--border-color);
    padding: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 18px;
  } 

  .alloc-table tr.category-data-limits td {
    background-color: var(--color-data-limits);
    border: var(--border-weight) solid var(--border-color);
    padding: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 18px;
  } 

  .alloc-table tr.category-data-access td {
    background-color: var(--color-data-access);
    border: var(--border-weight) solid var(--border-color);
    padding: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 18px;
  } 
  .alloc-table tr.category-data-transfer td {
    background-color: var(--color-data-transfer);
    border: var(--border-weight) solid var(--border-color);
    padding: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 18px;
  } 
  .alloc-table tr.category-data-compression td {
    background-color: var(--color-data-compression);
    border: var(--border-weight) solid var(--border-color);
    padding: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 18px;
  } 

  .alloc-table td.tier-cell {
  text-align: center !important;
  }

</style>

<table class="alloc-table">
  <thead>
    <tr style="text-align: center;">
      <th rowspan="2">Category</th>
      <th rowspan="2">Feature</th>
      <th colspan="4">PetaLibrary Tier</th>
    </tr>
    <tr style="text-align: center;">
      <th>Active</th>
      <th>Archive</th>
      <th>Active+Archive</th>
      <th>Archive+DR</th>
    </tr>
  </thead>
  <tbody>
    <!-- Data Integrity -->
    <tr class="category-data-integrity">
      <td rowspan="6">Data Integrity*</td>
      <td>Snapshots</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-integrity">
      <td>Offsite replication</td>
      <td class="tier-cell"></td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>
    <tr class="category-data-integrity">
      <td>Offsite backup</td>
      <td class="tier-cell"></td>
      <td class="tier-cell"></td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-integrity">
      <td>RAID double parity protection</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>
    <tr class="category-data-integrity">
      <td>RAID triple parity protection</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-integrity">
      <td>Full monthly data checksumming</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
    </tr>

    <!-- Data Limits -->
    <tr class="category-data-limits">
      <td rowspan="4">Data Limits</td>
      <td>No data volume limit</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-limits">
      <td>Initial allocation request limit</td>
      <td class="tier-cell">200 T</td>
      <td class="tier-cell">100 T</td>
      <td class="tier-cell">100 T</td>
      <td class="tier-cell">100 T</td>
    </tr>
    <tr class="category-data-limits">
      <td>No object limit</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>
    <tr class="category-data-limits">
      <td>10K object/TB limit</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
    </tr>

    <!-- Data Access -->
    <tr class="category-data-access">
      <td>Data Access</td>
      <td>Accessible from CURC compute nodes</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>

    <!-- Data Transfer -->
    <tr class="category-data-transfer">
      <td rowspan="3">Data Transfer</td>
      <td>Globus access</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-transfer">
      <td>rsync/scp/sftp/ access</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell">✅</td>
    </tr>
    <tr class="category-data-transfer">
      <td>SMB access**</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>

    <!-- Data Compression -->
    <tr class="category-data-compression">
      <td rowspan="2">Data Compression</td>
      <td>lz4 data compression</td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
    </tr>
    <tr class="category-data-compression">
      <td>zstd data compression</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
      <td class="tier-cell"></td>
      <td class="tier-cell">✅</td>
    </tr>
  </tbody>
</table>
